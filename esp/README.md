# ESP модуль передачи данных (метеостанция)

Этот модуль используется в системе умной метеостанции.
Он принимает JSON данные с Arduino (через UART) и отправляет их на сервер через Wi-Fi

## Аппаратное подключение

**Используется плата:** ESP8266 NodeMCU V3 Lolin

### Схема подключения:

| Arduino | ESP8266 |
|--------|---------|
| TX     | RX      |
| RX     | TX      |
| GND    | GND     |
| 5V     | VIN     |

В тестах **RX/TX были подключены напрямую** между Arduino и ESP (**так не рекомендуется!**).
Рекомендуется поставить **делитель напряжения** (например, 1.8 кОм + 3.3 кОм) на линии TX Arduino → RX ESP для защиты входа ESP.
Без делителя возможен риск повреждения ESP в долгосрочной работе

**Обе платы были подключены к общей 5V шине на макетной плате, а также к общей GND**

## Настройка

В новом файле **config.h**, скопированном с **config.example.h**, необходимо указать параметры подключения к Wi-Fi и серверу:

```cpp
#define WIFI_SSID "YOUR_SSID"
#define WIFI_PASSWORD "YOUR_PASSWORD"
#define SERVER_URL "http://your.server/api/data"
```

## Необходимые библиотеки

В Arduino IDE → Менеджер библиотек:

- **ESP8266WiFi** (устанавливается автоматически при установке платы ESP8266)
- **HTTPClient** (включена в ESP8266 core, доп. установка не требуется)

> **Важно:** перед загрузкой скетча в Arduino IDE выберите плату **NodeMCU 1.0 (ESP-12E Module)**

## Как работает

1. Arduino формирует JSON строку с данными с сенсоров (через Serial)
2. ESP читает эту строку с UART (Serial)
3. ESP отправляет данные методом HTTP POST на сервер (**SERVER_URL**)
4. При успешной отправке или ошибке ESP может выводить статус в Serial Monitor

## Файлы проекта

- `esp.ino` — основной скетч для ESP
- `config.example.h` — пример настроек Wi-Fi и сервера
- `config.h` — ваш файл настроек